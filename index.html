<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KuhyaKuya Studio Web</title>
  <meta name="description" content="Paket editing modular — InstaClip, Standar, Kreator. Order via WhatsApp." />
  <style>
    :root{
      --bg:#1D1D1D;
      --card:#232323;
      --accent:#FF0072;
      --muted:#bfc3c6;
      --glass: rgba(255,255,255,0.03);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:var(--bg);
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:32px;
      display:flex;
      justify-content:center;
    }
    .container{max-width:1100px;width:100%}

    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;flex-wrap:wrap;gap:12px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo img{width:44px;height:44px;border-radius:8px;object-fit:cover}
    h1{font-size:18px}
    p.lead{color:var(--muted);font-size:13px;margin-top:4px}

    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px}

    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.05);display:flex;flex-direction:column;justify-content:space-between}
    .card h3{font-size:16px;margin-bottom:4px}
    .price{font-weight:700;font-size:20px;margin:8px 0}
    .meta{color:var(--muted);font-size:13px}
    .list{margin:12px 0 16px;padding-left:18px;color:var(--muted);font-size:14px}
    .badge{display:inline-block;background:var(--glass);padding:4px 10px;border-radius:999px;font-size:12px;color:var(--muted);margin-right:6px;margin-top:4px}

    .cta{margin-top:auto;text-align:right}
    .btn{background:var(--accent);color:white;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer;text-decoration:none;display:inline-block}

    footer{margin-top:24px;color:var(--muted);font-size:13px;text-align:center}

    @media (max-width:560px){
      body{padding:18px}
      .logo img{width:40px;height:40px}
      h1{font-size:16px}
    }
  </style>
</head>
<body>
  <main class="container">
    <header>
      <div class="brand">
        <div class="logo"><img src="/assets/Logo.png" alt="Logo"></div>
        <div>
          <h1>KuhyaKuya Studio</h1>
          <p class="lead">Desain simple, dark mode, fokus pesan utama. Order cepat via WhatsApp.</p>
        </div>
      </div>
      <div style="text-align:right;font-size:13px;color:var(--muted)">
        <div style="font-weight:600;color:#fff">Jam kerja</div>
        Kamis–Selasa 19:00–22:00 • Sabtu–Minggu 09:00–22:00
      </div>
    </header>

    <section class="grid" id="packages"></section>

    <footer>
      <small>Harga & konfigurasi diambil dari <code>/config/prices.json</code>. Sistem modular — tiap page ada di folder berbeda.</small>
    </footer>
  </main>

  <script>
    async function loadPackages(){
      try{
        const res = await fetch('/config/prices.json', {cache:'no-store'});
        if(!res.ok) throw new Error('Config not found');
        const cfg = await res.json();
        renderPackages(cfg.packages || []);
      }catch(e){
        const fallback = [
          {id:'instaclip',name:'Paket InstaClip',price:15000, revisions:1, durationText:'1–5 menit',overRatePerMin:5000,leadTime:'0–1 hari',features:['cut basic','overlay sederhana','1 backsound']},
          {id:'standar',name:'Paket Standar',price:50000, revisions:2, durationText:'1–5 menit',overRatePerMin:12000,leadTime:'1–3 hari',features:['cut + merge kompleks','overlay + efek basic','2 backsound','transisi sederhana','efek teks','filter warna dasar']},
          {id:'kreator',name:'Paket Kreator',price:150000, revisions:3, durationText:'1–5 menit',overRatePerMin:32000,leadTime:'3–5 hari',features:['editing kompleks','overlay variatif','5 backsound','transisi dinamis','efek teks animasi','color correction','sound design','motion graphics sederhana']}
        ];
        renderPackages(fallback);
      }
    }

    function renderPackages(packages){
      const container = document.getElementById('packages');
      container.innerHTML = '';
      packages.forEach(p=>{
        const el = document.createElement('article');
        el.className = 'card';
        el.innerHTML = `
          <h3>${escapeHtml(p.name)}</h3>
          <div class="meta">Revisi: ${p.revisions} • Durasi: ${p.durationText} • Waktu: ${p.leadTime}</div>
          <div class="price">IDR ${numberWithSeparators(p.price)}</div>
          <ul class="list">${(p.features||[]).map(f=>`<li>${escapeHtml(f)}</li>`).join('')}</ul>
          <div>
            <span class="badge">Aksen</span>
            <span class="badge">Harga fix</span>
            <span class="badge">Satu CTA</span>
          </div>
          <div class="cta">
            <a class="btn" href="/order/${encodeURIComponent(p.id)}/">Order</a>
          </div>
        `;
        container.appendChild(el);
      })
    }

    function numberWithSeparators(x){return x?.toString().replace(/\B(?=(\d{3})+(?!\d))/g,',')||'0'}
    function escapeHtml(s){return String(s||'').replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c]))}

    loadPackages();
  </script>
</body>
</html>
